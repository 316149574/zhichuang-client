const e={name:"MessageList",data:()=>({MessageList:[]}),mounted(){this.$api.getMessage().then((e=>{this.MessageList=e.data}))},methods:{deleteRow(e,t){let a=t[e];this.$api.deleteMessage({_id:a._id}).then((e=>{this.$ElMessage.success("删除成功")})),t.splice(e,1)},read(e,t){let a=t[e];this.$api.readMessage({_id:a._id}).then((e=>{this.$ElMessage.success("标记已阅读")})),a.state=!0}}},t=Vue.withScopeId("data-v-5a5d4ff6");Vue.pushScopeId("data-v-5a5d4ff6");const a=Vue.createTextVNode(" 未联系 "),s=Vue.createTextVNode(" 已联系 "),o=Vue.createTextVNode(" 移除 ");Vue.popScopeId();const l=t(((e,l,d,c,i,r)=>{const n=Vue.resolveComponent("el-table-column"),u=Vue.resolveComponent("el-button"),V=Vue.resolveComponent("el-table");return Vue.openBlock(),Vue.createBlock(V,{class:"table",data:i.MessageList,lazy:"",stripe:"",border:""},{default:t((()=>[Vue.createVNode(n,{prop:"name",align:"center",label:"姓名"}),Vue.createVNode(n,{prop:"wechat",align:"center",label:"联系微信"}),Vue.createVNode(n,{prop:"tel",align:"center",label:"联系电话"}),Vue.createVNode(n,{prop:"need",align:"center",label:"需求"}),Vue.createVNode(n,{prop:"time",align:"center",label:"留言时间"}),Vue.createVNode(n,{fixed:"right",align:"center",label:"操作",width:"240"},{default:t((e=>[e.row.state?Vue.createCommentVNode("v-if",!0):(Vue.openBlock(),Vue.createBlock(u,{key:0,onClick:Vue.withModifiers((t=>r.read(e.$index,i.MessageList)),["prevent"]),type:"danger",size:"small"},{default:t((()=>[a])),_:2},1032,["onClick"])),e.row.state?(Vue.openBlock(),Vue.createBlock(u,{key:1,type:"success",size:"small"},{default:t((()=>[s])),_:1})):Vue.createCommentVNode("v-if",!0),Vue.createVNode(u,{onClick:Vue.withModifiers((t=>r.deleteRow(e.$index,i.MessageList)),["prevent"]),type:"danger",size:"small"},{default:t((()=>[o])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])}));e.render=l,e.__scopeId="data-v-5a5d4ff6";export{e as default};
